<h2 class="font-bold text-3xl mx-4 mb-1 text-zinc-800">{{ group.title }}</h2>
<p class="text-xl text-zinc-600 mx-4 mb-2">{{ group.greeting }}</p>
<div class="px-2 grid grid-rows-4 md:grid-rows-1 md:grid-cols-4 gap-2">
  {% for stage in group.tone_stages %}
  <div class="overflow-hidden rounded bg-white shadow h-auto">
    <div class="px-2 pt-2 pb-4 flex flex-col space-y-2" x-data x-on:drop="" x-on:dragover.prevent=""
      x-on:dragleave.prevent="">
      <div class="flex justify-center">
        <h2
          class="font-bold text-xl w-auto text-center {{ loop.index0|stage_color }} px-4 py-2 rounded-full text-white">
          {{ stage }}</h2>
      </div>
      {% for goal in goals_in_stages[loop.index0] %}
      <!-- Goal Card -->
      <a draggable="true" x-data="{ dragging: false }" @dragstart="dragging = true" @dragend="dragging = false"
        href="/groups/{{ group.id }}/goals/{{ goal.id }}"
        class="relative flex items-center space-x-3 rounded border border-gray-300 bg-white px-3 py-2 shadow-sm focus-within:ring-2 focus-within:ring-indigo-500 focus-within:ring-offset-2 hover:border-gray-400">
        <div class="min-w-0 flex-1">
          <span class="absolute inset-0" aria-hidden="true"></span>
          <p class="text-sm font-medium text-gray-900">{{ goal.title }}</p>
          {% if let Some(desc) = goal.description %}
          <p class="truncate text-sm text-gray-500">{{ desc }}</p>
          {% endif %}
        </div>
      </a>
      {% endfor %}
      <!-- TODO: push this to the bottom on the list maybe -->
      <a href="/groups/{{ group.id }}/goals/new?stage={{ loop.index0 }}" draggable="false"
        class="relative flex items-center space-x-3 rounded border border-dashed border-gray-300 bg-white px-3 py-2 shadow-sm focus-within:ring-2 focus-within:ring-indigo-500 focus-within:ring-offset-2 hover:border-gray-400 mt-auto">
        <div class="min-w-0 flex-1">
          <span class="absolute inset-0" aria-hidden="true"></span>
          <p class="text-sm font-medium text-gray-900">Add a Goal</p>
          <p class="truncate text-sm text-gray-500">Create a new &quot;{{ stage }}&quot; Goal</p>
        </div>
      </a>
    </div>
  </div>
  {% endfor %}
</div>
